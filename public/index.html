<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Web Wget Pro - Interface de gestion des téléchargements">
  <meta name="theme-color" content="#8b5cf6">
  <title>Web Wget Pro | Gestionnaire de téléchargements</title>
  
  <!-- Preconnect -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="preconnect" href="https://cdnjs.cloudflare.com">
  
  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700;800&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
  
  <!-- Icons -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
  
  <!-- Styles -->
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div class="container">
    
    <!-- HEADER -->
    <header class="main-header">
      <div class="header-content">
        <div class="header-left">
          <div class="logo-container">
            <i class="fas fa-cloud-arrow-down"></i>
          </div>
          <div class="header-info">
            <h1 class="header-title">Web Wget Pro</h1>
            <p class="header-subtitle">Interface de gestion propulsée par Aria2, yt-dlp & FFmpeg</p>
          </div>
        </div>
        <div class="header-right">
          <div class="connection-status" id="connectionStatus">
            <div class="status-indicator"></div>
            <span class="status-text">Connecté</span>
          </div>
          <button class="icon-btn" id="settingsBtn" title="Paramètres">
            <i class="fas fa-cog"></i>
          </button>
        </div>
      </div>
    </header>

    <!-- DOWNLOAD FORM -->
    <section class="download-section">
      <div class="download-card">
        <form id="downloadForm" class="download-form">
          
          <!-- URL Input -->
          <div class="form-group">
            <label for="urlInput" class="form-label">
              <i class="fas fa-link"></i>
              URLs de téléchargement
            </label>
            <textarea 
              id="urlInput"
              name="url" 
              class="input-field textarea-field" 
              placeholder="Collez vos liens ici (un par ligne pour téléchargement multiple)..." 
              required
              rows="4"
              spellcheck="false"></textarea>
            <div class="input-hint">
              <i class="fas fa-info-circle"></i>
              Supporte: HTTP/S, Magnet, HLS (m3u8), DASH (mpd), YouTube, Vimeo...
            </div>
          </div>

          <!-- Advanced Options Toggle -->
          <button type="button" class="advanced-toggle" id="advToggle">
            <i class="fas fa-sliders-h"></i>
            <span>Options avancées</span>
            <i class="fas fa-chevron-down toggle-icon"></i>
          </button>

          <!-- Advanced Options -->
          <div class="advanced-options" id="advOptions">
            <div class="options-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-file-signature"></i>
                  Nom du fichier
                </label>
                <input 
                  type="text" 
                  name="customFilename" 
                  class="input-field" 
                  placeholder="mon_fichier (optionnel)"
                  maxlength="255">
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-link"></i>
                  Referer
                </label>
                <input 
                  type="url" 
                  name="referer" 
                  class="input-field" 
                  placeholder="https://example.com">
              </div>
            </div>

            <div class="options-grid">
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-user-secret"></i>
                  User-Agent
                </label>
                <input 
                  type="text" 
                  name="ua" 
                  id="uaInput"
                  class="input-field" 
                  placeholder="User-Agent personnalisé">
              </div>

              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-cookie"></i>
                  Cookies
                </label>
                <input 
                  type="text" 
                  name="cookies" 
                  class="input-field" 
                  placeholder="session=abc123; token=xyz">
              </div>
              <div class="form-group">
                <label class="form-label">
                  <i class="fas fa-network-wired"></i>
                  Connexions
                </label>
                <input
                  type="number"
                  name="connections"
                  class="input-field"
                  placeholder="1-16 (défaut: 16)"
                  min="1"
                  max="16">
              </div>
            </div>

            <div class="checkbox-group-container">
              <label class="checkbox-label">
                <input type="checkbox" name="noCheckCert">
                <span class="checkbox-text">
                  <i class="fas fa-shield-slash"></i>
                  Ignorer les certificats SSL
                </span>
              </label>
              
              <label class="checkbox-label">
                <input type="checkbox" name="singleSegment">
                <span class="checkbox-text">
                  <i class="fas fa-stream"></i>
                  Mode mono-segment (connexion unique)
                </span>
              </label>
            </div>
          </div>

          <!-- Submit Button -->
          <button type="submit" class="btn-primary btn-submit" id="submitBtn">
            <i class="fas fa-bolt"></i>
            <span>Analyser et télécharger</span>
          </button>
        </form>
      </div>
    </section>

    <!-- ACTIVE DOWNLOADS -->
    <section class="downloads-section">
      <div class="section-header">
        <div class="section-title-wrapper">
          <h2 class="section-title">
            <i class="fas fa-microchip"></i>
            Téléchargements actifs
          </h2>
          <span class="badge-count" id="activeCount">0</span>
        </div>
        <div class="section-actions">
          <button class="btn-secondary" id="refreshActiveBtn" title="Rafraîchir">
            <i class="fas fa-sync-alt"></i>
          </button>
          <button class="btn-danger" id="cancelAllBtn">
            <i class="fas fa-stop-circle"></i>
            Tout arrêter
          </button>
        </div>
      </div>
      
      <div id="activeList" class="downloads-list">
        <div class="empty-state">
          <i class="fas fa-cloud-download-alt"></i>
          <p>En attente de nouveaux téléchargements...</p>
        </div>
      </div>
    </section>

    <!-- DOWNLOAD HISTORY -->
    <section class="downloads-section history-section">
      <div class="section-header">
        <div class="section-title-wrapper">
          <h2 class="section-title">
            <i class="fas fa-vault"></i>
            Bibliothèque
          </h2>
          <span class="badge-count success" id="historyCount">0</span>
        </div>
        <div class="section-actions">
          <div class="history-options" style="display: flex; align-items: center; gap: 10px; margin-right: 10px;">
            <label class="checkbox-label" style="margin-bottom: 0;">
              <input type="checkbox" id="keepFilesCheck">
              <span class="checkbox-text" style="font-size: 0.85rem;">Garder les fichiers</span>
            </label>
          </div>
          <button class="btn-secondary" id="refreshHistoryBtn" title="Rafraîchir">
            <i class="fas fa-sync-alt"></i>
          </button>
          <button class="btn-secondary" id="clearHistoryBtn">
            <i class="fas fa-trash-alt"></i>
            Vider l'historique
          </button>
        </div>
      </div>
      
      <div id="historyList" class="downloads-list"></div>

      <!-- Pagination -->
      <div class="pagination-container" id="paginationControls" style="display: none;">
        <button class="btn-pagination" id="prevPage">
          <i class="fas fa-arrow-left"></i>
          Précédent
        </button>
        <div class="page-info">
          Page <span class="page-current" id="currentPage">1</span> / <span class="page-total" id="totalPages">1</span>
        </div>
        <button class="btn-pagination" id="nextPage">
          Suivant
          <i class="fas fa-arrow-right"></i>
        </button>
      </div>
    </section>

    <!-- FOOTER -->
    <footer class="main-footer">
      <div class="footer-content">
        <div class="footer-info">
          <i class="fas fa-code"></i>
          Made with <i class="fas fa-heart" style="color: #ef4444;"></i> by Web Wget Pro Team
        </div>
        <div class="footer-version">
          v3.0.0
        </div>
      </div>
    </footer>

  </div>

  <!-- NOTIFICATION TOAST -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- Scripts -->
  <script src="app.js"></script>
</body>

</html>